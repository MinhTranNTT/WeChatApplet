{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Data/ZW/applet/mySubPkg/addCampers/addCampers.vue?9c2b","webpack:///C:/Data/ZW/applet/mySubPkg/addCampers/addCampers.vue?e830","webpack:///C:/Data/ZW/applet/mySubPkg/addCampers/addCampers.vue?d759","webpack:///C:/Data/ZW/applet/mySubPkg/addCampers/addCampers.vue?bef5","uni-app:///mySubPkg/addCampers/addCampers.vue","webpack:///C:/Data/ZW/applet/mySubPkg/addCampers/addCampers.vue?23d0","webpack:///C:/Data/ZW/applet/mySubPkg/addCampers/addCampers.vue?a8fc"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","camperInfo","photoUrl","campersList","photoPath","genderRange","clothSizeRange","certificateTypeRange","imageStyles","width","height","border","color","style","radius","customRules","name","rules","required","errorMessage","minLength","maxLength","gender","birthday","clothSize","typeOfCerti","validIdNumber","validateFunction","callback","sum","otherIdNumber","school","grade","guardianName","phone","onLoad","onReady","methods","onLoadOrder","saveCamper","uni","res","console","submit","that","title","icon","select","photo","err","progress","success"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,mBAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAuH;AACvH;AAC8D;AACL;AACc;;;AAGvE;AAC2K;AAC3K,gBAAgB,kLAAU;AAC1B,EAAE,gFAAM;AACR,EAAE,qFAAM;AACR,EAAE,8FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,yFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,sTAEN;AACP,KAAK;AACL;AACA,aAAa,8RAEN;AACP,KAAK;AACL;AACA,aAAa,oSAEN;AACP,KAAK;AACL;AACA,aAAa,8XAEN;AACP,KAAK;AACL;AACA,aAAa,gZAEN;AACP,KAAK;AACL;AACA,aAAa,4WAEN;AACP,KAAK;AACL;AACA,aAAa,4WAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC/DA;AAAA;AAAA;AAAA;AAA+oB,CAAgB,6oBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;AC6EnqB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eACA;EACAC;IACA;MACA;MACAC;QACAC;MACA;MACA;MACAC;MACA;MACAC;MACA;MACAC;QAAA;QAAA;MAAA;QAAA;QAAA;MAAA;MACA;MACAC;QAAA;QAAA;MAAA;QAAA;QAAA;MAAA;QAAA;QAAA;MAAA,GACA;QAAA;QAAA;MAAA;QAAA;QAAA;MAAA;QAAA;QAAA;MAAA,GACA;QAAA;QAAA;MAAA;QAAA;QAAA;MAAA;QAAA;QAAA;MAAA;MACAC;QAAA;QAAA;MAAA;QAAA;QAAA;MAAA,GACA;QAAA;QAAA;MAAA;QAAA;QAAA;MAAA;MACA;MACAC;QACAC;QACAC;QACAC;UACAC;UACAH;UACAI;UACAC;QACA;MACA;MACA;MACAC;QACA;QACAC;UACAC;YACAC;YACAC;UACA;YACAC;YACAC;YACAF;UACA;QACA;QACA;QACAG;UACAL;YACAC;YACAC;UACA;QACA;QACA;QACAI;UACAN;YACAC;YACAC;UACA;QACA;QACA;QACAK;UACAP;YACAC;YACAC;UACA;QACA;QACA;QACAM;UACAR;YACAC;YACAC;UACA;QACA;QACA;QACAO;UACAT;YACAC;YACAC;UACA;YACAQ;cACA;gBACAC;cACA;gBACA;gBACA;kBAAA;kBAAA;kBAAA;kBAAA;kBAAA;kBAAA;kBAAA;kBAAA;kBAAA;kBAAA;kBAAA;kBAAA;kBAAA;kBAAA;kBAAA;kBAAA;kBAAA;kBAAA;kBAAA;kBAAA;kBAAA;kBAAA;kBAAA;kBAAA;kBAAA;kBAAA;kBAAA;kBAAA;kBAAA;kBAAA;kBAAA;kBAAA;kBAAA;kBAAA;kBAAA;gBAAA;gBACA;kBACAA;gBACA;kBACAA;gBACA;kBACA;kBACA;kBACA;kBACA;kBACA;oBACAC;kBACA;kBACA;kBACA;oBACAD;kBACA;gBACA;cAEA;cACA;YACA;UACA,IAEA;QACA;QACA;QACAE;UACAb;YACAC;YACAC;UACA;QACA;QACA;QACAY;UACAd;YACAC;YACAC;UACA;QACA;QACA;QACAa;UACAf;YACAC;YACAC;UACA;QACA;QACA;QACAc;UACAhB;YACAC;YACAC;UACA;QACA;QACA;QACAe;UACAjB;YACAC;YACAC;UACA;YACAQ;cACA;cACA;gBACAC;cACA;YACA;UACA;QACA;QACA;QACA1B;UACAe;YACAC;YACAC;UACA;QACA;MACA;IACA;EACA;EACAgB,4BAEA;EACAC;IACA;EACA;EACAC;IACA;IACAC;MAAA;QAAA;UAAA;YAAA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IACA;IAEA;IACAC;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACAC;cAAA;gBAAA;gBAAA,OACAA;cAAA;gBAAA;gBAAAC;gBACAC;gBAAA;gBAAA,OACAF;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IAEA;IACAG;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACAC;gBAAA;gBAAA,OACA;kBACAJ;oBACAK;oBACAC;kBACA;kBACA;gBACA;cAAA;gBANAL;gBAAA,KAOAA;kBAAA;kBAAA;gBAAA;gBAAA;gBAAA,OACAG;cAAA;gBACAJ;kBACAK;kBACAC;gBACA;gBACAN;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAcA;IAEA;IACA;IACAO;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACAH;gBACAI;gBAAA,MACA;kBAAA;kBAAA;gBAAA;gBAAA;gBAAA,OAEAR;cAAA;gBAEApC;gBAAA;gBAAA,OACAoC;cAAA;gBAAA;gBAAA;gBAAAS;gBAAAR;gBACAG;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACA;IACAM;MACAR;MACAF;QACAK;MACA;IACA;IACA;IACAM;MACAT;MACAF;IACA;EAEA;AACA;AAAA,2B;;;;;;;;;;;;;AC9TA;AAAA;AAAA;AAAA;AAA0tC,CAAgB,gpCAAG,EAAC,C;;;;;;;;;;;ACA9uC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"mySubPkg/addCampers/addCampers.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './mySubPkg/addCampers/addCampers.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./addCampers.vue?vue&type=template&id=30740566&\"\nvar renderjs\nimport script from \"./addCampers.vue?vue&type=script&lang=js&\"\nexport * from \"./addCampers.vue?vue&type=script&lang=js&\"\nimport style0 from \"./addCampers.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../Apps/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"mySubPkg/addCampers/addCampers.vue\"\nexport default component.exports","export * from \"-!../../../../../Apps/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../Apps/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../Apps/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../Apps/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../Apps/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Apps/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./addCampers.vue?vue&type=template&id=30740566&\"","var components\ntry {\n  components = {\n    uniForms: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-forms/components/uni-forms/uni-forms\" */ \"@/uni_modules/uni-forms/components/uni-forms/uni-forms.vue\"\n      )\n    },\n    uniFormsItem: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-forms/components/uni-forms-item/uni-forms-item\" */ \"@/uni_modules/uni-forms/components/uni-forms-item/uni-forms-item.vue\"\n      )\n    },\n    uniEasyinput: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-easyinput/components/uni-easyinput/uni-easyinput\" */ \"@/uni_modules/uni-easyinput/components/uni-easyinput/uni-easyinput.vue\"\n      )\n    },\n    uniDataCheckbox: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-data-checkbox/components/uni-data-checkbox/uni-data-checkbox\" */ \"@/uni_modules/uni-data-checkbox/components/uni-data-checkbox/uni-data-checkbox.vue\"\n      )\n    },\n    uniDatetimePicker: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-datetime-picker/components/uni-datetime-picker/uni-datetime-picker\" */ \"@/uni_modules/uni-datetime-picker/components/uni-datetime-picker/uni-datetime-picker.vue\"\n      )\n    },\n    uniDataSelect: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-data-select/components/uni-data-select/uni-data-select\" */ \"@/uni_modules/uni-data-select/components/uni-data-select/uni-data-select.vue\"\n      )\n    },\n    uniFilePicker: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-file-picker/components/uni-file-picker/uni-file-picker\" */ \"@/uni_modules/uni-file-picker/components/uni-file-picker/uni-file-picker.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../Apps/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Apps/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../Apps/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Apps/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Apps/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./addCampers.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../Apps/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Apps/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../Apps/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Apps/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Apps/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./addCampers.vue?vue&type=script&lang=js&\"","<template>\n\t<view>\n\t\t<!-- 名字| 姓名、性别、出生日期、衣服尺寸、证件类型、证件号、在读年纪、监护人姓名、监护人手机号、营员正面照 -->\r\n\t\t<view class=\"title\">\r\n\t\t\t<view class=\"main-title\">新增营员</view>\r\n\t\t\t<view class=\"sub-title\">\r\n\t\t\t\t<view id=\"one\">（标有</view>\r\n\t\t\t\t<view id=\"two\">*</view>\r\n\t\t\t\t<view id=\"one\">为必填）</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 表单 -->\r\n\t\t<view class=\"form-data\">\r\n\t\t\t<uni-forms ref=\"camperForm\" :modelValue=\"camperInfo\" validateTrigger=\"bind\" labelWidth=\"103px\" labelAlign=\"left\" labelPosition=\"left\">\r\n\t\t\t\t<!-- 姓名 -->\r\n\t\t\t\t<uni-forms-item label=\"姓名\" name=\"name\" required>\r\n\t\t\t\t\t<uni-easyinput type=\"text\" v-model=\"camperInfo.name\" placeholder=\"请输入姓名\"></uni-easyinput>\r\n\t\t\t\t</uni-forms-item>\r\n\t\t\t\t<!-- 性别 -->\r\n\t\t\t\t<uni-forms-item label=\"性别\" name=\"gender\" required>\r\n\t\t\t\t\t<uni-data-checkbox v-model=\"camperInfo.gender\" :localdata=\"genderRange\"></uni-data-checkbox>\r\n\t\t\t\t</uni-forms-item>\r\n\t\t\t\t<!-- 出生日期 -->\r\n\t\t\t\t<uni-forms-item label=\"出生日期\" name=\"birthday\" required>\r\n\t\t\t\t\t<uni-datetime-picker type=\"date\" v-model=\"camperInfo.birthday\"></uni-datetime-picker>\r\n\t\t\t\t</uni-forms-item>\r\n\t\t\t\t<!-- 衣服尺寸 -->\r\n\t\t\t\t<uni-forms-item label=\"衣服尺寸\" name=\"clothSize\" required>\r\n\t\t\t\t\t<uni-data-select v-model=\"camperInfo.clothSize\" :localdata=\"clothSizeRange\"></uni-data-select>\r\n\t\t\t\t</uni-forms-item>\r\n\t\t\t\t<!-- 证件类型 -->\r\n\t\t\t\t<uni-forms-item label=\"证件类型\" name=\"typeOfCerti\" required>\r\n\t\t\t\t\t<uni-data-select v-model=\"camperInfo.typeOfCerti\" :localdata=\"certificateTypeRange\"></uni-data-select>\r\n\t\t\t\t</uni-forms-item>\r\n\t\t\t\t<!-- 有效证件号 -->\r\n\t\t\t\t<uni-forms-item label=\"有效证件号\" name=\"validIdNumber\" required v-if=\"camperInfo.typeOfCerti==0 || camperInfo.typeOfCerti==10\">\r\n\t\t\t\t\t<uni-easyinput type=\"idcard\" v-model=\"camperInfo.validIdNumber\" placeholder=\"请输入有效证件号\" ></uni-easyinput>\r\n\t\t\t\t</uni-forms-item>\r\n\t\t\t\t<!-- 其他类型的证件号 -->\r\n\t\t\t\t<uni-forms-item label=\"有效证件号\" name=\"otherIdNumber\" required v-else>\r\n\t\t\t\t\t<uni-easyinput type=\"idcard\" v-model=\"camperInfo.otherIdNumber\" placeholder=\"请输入有效证件号\"></uni-easyinput>\r\n\t\t\t\t</uni-forms-item>\r\n\t\t\t\t<!-- 在读学校 -->\r\n\t\t\t\t<uni-forms-item label=\"在读学校\" name=\"school\" required>\r\n\t\t\t\t\t<uni-easyinput type=\"text\" v-model=\"camperInfo.school\" placeholder=\"请输入在读学校\"></uni-easyinput>\r\n\t\t\t\t</uni-forms-item>\r\n\t\t\t\t<!-- 在读年纪 -->\r\n\t\t\t\t<uni-forms-item label=\"在读年级\" name=\"grade\" required>\r\n\t\t\t\t\t<uni-easyinput type=\"text\" v-model=\"camperInfo.grade\" placeholder=\"请输入在读年级\"></uni-easyinput>\r\n\t\t\t\t</uni-forms-item>\r\n\t\t\t\t<!-- 监护人姓名 -->\r\n\t\t\t\t<uni-forms-item label=\"监护人姓名\" name=\"guardianName\" required>\r\n\t\t\t\t\t<uni-easyinput type=\"text\" v-model=\"camperInfo.guardianName\" placeholder=\"请输入监护人姓名\"></uni-easyinput>\r\n\t\t\t\t</uni-forms-item>\r\n\t\t\t\t<!-- 监护人手机号 -->\r\n\t\t\t\t<uni-forms-item label=\"监护人手机号\" name=\"phone\" required>\r\n\t\t\t\t\t<uni-easyinput type=\"text\" v-model=\"camperInfo.phone\" placeholder=\"请输入监护人手机号\"></uni-easyinput>\r\n\t\t\t\t</uni-forms-item>\r\n\t\t\t\t<!-- 上传营员正面照 -->\r\n\t\t\t\t<uni-forms-item label=\"营员正面照\" name=\"photoUrl\" required>\r\n\t\t\t\t\t<uni-file-picker v-model=\"photoPath\" title=\"请上传一张营员照片\"\r\n\t\t\t\t\tfileMediatype=\"image\" mode=\"grid\" :imageStyles=\"imageStyles\"\r\n\t\t\t\t\tdisablePreview :del-icon=\"false\" returnType = \"object\"\r\n\t\t\t\t\t:limit=\"1\" @select=\"select\" @progress=\"progress\"\r\n\t\t\t\t\t@success=\"success\">选择照片</uni-file-picker>\r\n\t\t\t\t</uni-forms-item>\r\n\t\t\t\t<button type=\"primary\" @tap=\"submit\">提交</button>\r\n\t\t\t</uni-forms>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 空白区域 -->\r\n\t\t<view class=\"empty-area\"></view>\n\t</view>\n</template>\n\n<script>\r\n\timport {BASE_URL} from '@/common/global.js'\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\t// 营员信息\r\n\t\t\t\tcamperInfo:{\r\n\t\t\t\t\tphotoUrl:\"\"\r\n\t\t\t\t},\r\n\t\t\t\t// 所有营员的列表\r\n\t\t\t\tcampersList:[],\r\n\t\t\t\t// 营员照片\r\n\t\t\t\tphotoPath:{},\r\n\t\t\t\t// 性别选项\r\n\t\t\t\tgenderRange:[{\"value\":0,\"text\":\"男\"},{\"value\":1,\"text\":\"女\"}],\r\n\t\t\t\t// 衣服尺寸\r\n\t\t\t\tclothSizeRange:[{\"value\":0,\"text\":\"110\"},{\"value\":1,\"text\":\"120\"},{\"value\":2,\"text\":\"130\"},\r\n\t\t\t\t\t\t\t\t{\"value\":3,\"text\":\"140\"},{\"value\":4,\"text\":\"150\"},{\"value\":5,\"text\":\"160\"},\r\n\t\t\t\t\t\t\t\t{\"value\":6,\"text\":\"170\"},{\"value\":7,\"text\":\"180\"},{\"value\":8,\"text\":\"190\"}],\r\n\t\t\t\tcertificateTypeRange:[{\"value\":0,\"text\":\"身份证\"},{\"value\":1,\"text\":\"护照\"},\r\n\t\t\t\t\t\t\t\t\t{\"value\":2,\"text\":\"台胞证\"},{\"value\":3,\"text\":\"回乡证\"}],\r\n\t\t\t\t// 上传照片组件的样式\r\n\t\t\t\timageStyles:{\r\n\t\t\t\t\twidth:90,\r\n\t\t\t\t\theight:90,\r\n\t\t\t\t\tborder:{\r\n\t\t\t\t\t\tcolor:\"#EEEEEE\",\r\n\t\t\t\t\t\twidth:2,\r\n\t\t\t\t\t\tstyle:'dashed',\r\n\t\t\t\t\t\tradius:'1px'\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t// 自定义表单验证规则\r\n\t\t\t\tcustomRules:{\r\n\t\t\t\t\t// 校验姓名\r\n\t\t\t\t\tname:{\r\n\t\t\t\t\t\trules:[{\r\n\t\t\t\t\t\t\trequired:true,\r\n\t\t\t\t\t\t\terrorMessage:'请输入姓名'\r\n\t\t\t\t\t\t},{\r\n\t\t\t\t\t\t\tminLength:1,\r\n\t\t\t\t\t\t\tmaxLength:20,\r\n\t\t\t\t\t\t\terrorMessage:\"姓名长度在{minLength}到{maxLength}个字符之间\"\r\n\t\t\t\t\t\t}]\r\n\t\t\t\t\t},\r\n\t\t\t\t\t// 校验性别\r\n\t\t\t\t\tgender:{\r\n\t\t\t\t\t\trules:[{\r\n\t\t\t\t\t\t\trequired:true,\r\n\t\t\t\t\t\t\terrorMessage:\"请选择性别\"\r\n\t\t\t\t\t\t}]\r\n\t\t\t\t\t},\r\n\t\t\t\t\t// 校验出生日期\r\n\t\t\t\t\tbirthday:{\r\n\t\t\t\t\t\trules:[{\r\n\t\t\t\t\t\t\trequired:true,\r\n\t\t\t\t\t\t\terrorMessage:\"请选择出生日期\",\r\n\t\t\t\t\t\t}]\r\n\t\t\t\t\t},\r\n\t\t\t\t\t// 校验衣服尺寸\r\n\t\t\t\t\tclothSize:{\r\n\t\t\t\t\t\trules:[{\r\n\t\t\t\t\t\t\trequired:true,\r\n\t\t\t\t\t\t\terrorMessage:\"请选择衣服尺寸\"\r\n\t\t\t\t\t\t}]\r\n\t\t\t\t\t},\r\n\t\t\t\t\t// 校验证件类型\r\n\t\t\t\t\ttypeOfCerti:{\r\n\t\t\t\t\t\trules:[{\r\n\t\t\t\t\t\t\trequired:true,\r\n\t\t\t\t\t\t\terrorMessage:\"请选择证件类型\"\r\n\t\t\t\t\t\t}]\r\n\t\t\t\t\t},\r\n\t\t\t\t\t// 校验身份证\r\n\t\t\t\t\tvalidIdNumber:{\r\n\t\t\t\t\t\trules:[{\r\n\t\t\t\t\t\t\trequired:true,\r\n\t\t\t\t\t\t\terrorMessage:\"请输入有效证件号\"\r\n\t\t\t\t\t\t},{\r\n\t\t\t\t\t\t\tvalidateFunction:function(rule,value,data,callback){\r\n\t\t\t\t\t\t\t\tif(value.length!==18){\r\n\t\t\t\t\t\t\t\t\tcallback(\"身份证位数应为18位\")\r\n\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\tvar reg = /^\\d{6}(18|19|20)?\\d{2}(0[1-9]|1[012])(0[1-9]|[12]\\d|3[01])\\d{3}(\\d|X)$/;\r\n\t\t\t\t\t\t\t\t\tvar city = { 11: \"北京\", 12: \"天津\", 13: \"河北\", 14: \"山西\", 15: \"内蒙古\", 21: \"辽宁\", 22: \"吉林\", 23: \"黑龙江 \", 31: \"上海\", 32: \"江苏\", 33: \"浙江\", 34: \"安徽\", 35: \"福建\", 36: \"江西\", 37: \"山东\", 41: \"河南\", 42: \"湖北 \", 43: \"湖南\", 44: \"广东\", 45: \"广西\", 46: \"海南\", 50: \"重庆\", 51: \"四川\", 52: \"贵州\", 53: \"云南\", 54: \"西藏 \", 61: \"陕西\", 62: \"甘肃\", 63: \"青海\", 64: \"宁夏\", 65: \"新疆\", 71: \"台湾\", 81: \"香港\", 82: \"澳门\", 91: \"国外\" };\r\n\t\t\t\t\t\t\t\t\tif(!reg.test(value)){\r\n\t\t\t\t\t\t\t\t\t\tcallback(\"身份证格式错误\")\r\n\t\t\t\t\t\t\t\t\t}else if(!city[value.substr(0,2)]){\r\n\t\t\t\t\t\t\t\t\t\tcallback(\"身份证地址编码错误\")\r\n\t\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\t\t// var code=value.split('');\r\n\t\t\t\t\t\t\t\t\t\tvar weights = [7, 9, 10, 5, 8, 4, 2, 1, 6, 3, 7, 9, 10, 5, 8, 4, 2];\r\n\t\t\t\t\t\t\t\t\t\tvar checkCodes = ['1', '0', 'X', '9', '8', '7', '6', '5', '4', '3', '2'];\r\n\t\t\t\t\t\t\t\t\t\tvar sum = 0;\r\n\t\t\t\t\t\t\t\t\t\tfor(var i=0;i<17;i++){\r\n\t\t\t\t\t\t\t\t\t\t\tsum += value[i]*weights[i];\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tvar checkCode = checkCodes[sum % 11];\r\n\t\t\t\t\t\t\t\t\t\tif(checkCode !==value[17]){\r\n\t\t\t\t\t\t\t\t\t\t\tcallback(\"身份证校验位错误\")\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\treturn true\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},{\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}]\r\n\t\t\t\t\t},\r\n\t\t\t\t\t// 校验其他身份类型的号码\r\n\t\t\t\t\totherIdNumber:{\r\n\t\t\t\t\t\trules:[{\r\n\t\t\t\t\t\t\trequired:true,\r\n\t\t\t\t\t\t\terrorMessage:\"请输入有效证件号\"\r\n\t\t\t\t\t\t}]\r\n\t\t\t\t\t},\r\n\t\t\t\t\t// 校验学校\r\n\t\t\t\t\tschool:{\r\n\t\t\t\t\t\trules:[{\r\n\t\t\t\t\t\t\trequired:true,\r\n\t\t\t\t\t\t\terrorMessage:\"请输入在读学校\"\r\n\t\t\t\t\t\t}]\r\n\t\t\t\t\t},\r\n\t\t\t\t\t// 校验年纪\r\n\t\t\t\t\tgrade:{\r\n\t\t\t\t\t\trules:[{\r\n\t\t\t\t\t\t\trequired:true,\r\n\t\t\t\t\t\t\terrorMessage:\"请输入在读年级\"\r\n\t\t\t\t\t\t}]\r\n\t\t\t\t\t},\r\n\t\t\t\t\t// 校验监护人姓名\r\n\t\t\t\t\tguardianName:{\r\n\t\t\t\t\t\trules:[{\r\n\t\t\t\t\t\t\trequired:true,\r\n\t\t\t\t\t\t\terrorMessage:\"请输入监护人姓名\"\r\n\t\t\t\t\t\t}]\r\n\t\t\t\t\t},\r\n\t\t\t\t\t// 校验监护人手机号\r\n\t\t\t\t\tphone:{\r\n\t\t\t\t\t\trules:[{\r\n\t\t\t\t\t\t\trequired:true,\r\n\t\t\t\t\t\t\terrorMessage:\"请输入监护人手机号\"\r\n\t\t\t\t\t\t},{\r\n\t\t\t\t\t\t\tvalidateFunction:function(rule,value,data,callback){\r\n\t\t\t\t\t\t\t\tconst phoneNumberPattern = /^1[3456789]\\d{9}$/;\r\n\t\t\t\t\t\t\t\tif(!phoneNumberPattern.test(value)){\r\n\t\t\t\t\t\t\t\t\tcallback(\"手机号格式不正确\")\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}]\r\n\t\t\t\t\t},\r\n\t\t\t\t\t// 校验营员正面照\r\n\t\t\t\t\tphotoUrl:{\r\n\t\t\t\t\t\trules:[{\r\n\t\t\t\t\t\t\trequired:true,\r\n\t\t\t\t\t\t\terrorMessage:\"请上传营员照片\"\r\n\t\t\t\t\t\t}]\r\n\t\t\t\t\t}\r\n\t\t\t\t},\n\t\t\t};\n\t\t},\r\n\t\tonLoad(e) {\r\n\t\t\t\r\n\t\t},\r\n\t\tonReady() {\r\n\t\t\tthis.$refs.camperForm.setRules(this.customRules);\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\t// onLoad的顺序\r\n\t\t\tasync onLoadOrder(){\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\t// 从缓存中获取campersList并保存\r\n\t\t\t\r\n\t\t\t// 保存用户信息\r\n\t\t\tasync saveCamper(info){\r\n\t\t\t\tawait uni.$http.post('/user/camper/save',info);\r\n\t\t\t\tconst {data:res} = await uni.$http.get('/user/camper/list');\r\n\t\t\t\tconsole.log(res)\r\n\t\t\t\tawait uni.setStorageSync(\"campersList\",res.data);\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 提交表单数据\r\n\t\t\tasync submit(){\r\n\t\t\t\tconst that=this;\r\n\t\t\t\tconst res = await this.$refs.camperForm.validate().catch(err=>{\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle:\"请根据提示完善信息\",\r\n\t\t\t\t\t\ticon:'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t});\r\n\t\t\t\tif(res){\r\n\t\t\t\t\tawait that.saveCamper(res);\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle:\"上传成功\",\r\n\t\t\t\t\t\ticon:'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t\tuni.navigateBack()\r\n\t\t\t\t}\r\n\t\t\t\t// await that.saveCamper(res);\r\n\t\t\t\t\r\n\t\t\t\t// this.$refs.camperForm.validate().then(res=>{\r\n\t\t\t\t// \tconsole.log('表单数据信息',res);\r\n\t\t\t\t// \t// 如果camperInfo中的id不存在，则为添加成员，此时调用添加接口，\r\n\t\t\t\t// \t\tconst {data:saveRes} =uni.$http.post('/user/camper/save',res);\r\n\t\t\t\t// \t\t// 重新请求所有的camper信息\r\n\t\t\t\t// \t\tconst {data:getRes} =uni.$http.get('/user/camper/list');\r\n\t\t\t\t// \t\tuni.setStorageSync(\"campersList\",getRes.data);\r\n\t\t\t\t// }).catch(err=>{\r\n\t\t\t\t// \tconsole.log(\"表单错误信息\",err);\r\n\t\t\t\t// })\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 上传照片的函数\r\n\t\t\t// 选择时\r\n\t\t\tasync select(e){\r\n\t\t\t\tconst that=this;\r\n\t\t\t\tconst photo = that.camperInfo.photoUrl;\r\n\t\t\t\tif(!e || photo){\r\n\t\t\t\t\t// var savedPath = that.camperInfo.photoUrl;\r\n\t\t\t\t\tawait uni.$http.post('/user/file/delete',photo)\r\n\t\t\t\t}\r\n\t\t\t\tvar photoPath = e.tempFilePaths[0];\r\n\t\t\t\tconst [err,res] = await uni.$uploadFile(photoPath);\r\n\t\t\t\tthat.camperInfo.photoUrl = res.data;\r\n\t\t\t},\r\n\t\t\t// 上传时\r\n\t\t\tprogress(e){\r\n\t\t\t\tconsole.log(e)\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle:\"长传中。。。\"\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 成功时\r\n\t\t\tsuccess(e){\r\n\t\t\t\tconsole.log(\"上传成功\"+e)\r\n\t\t\t\tuni.hideLoading()\r\n\t\t\t},\r\n\t\t\t\r\n\t\t}\n\t}\n</script>\n\n<style lang=\"scss\">\n.title{\r\n\tdisplay: flex;\r\n\tflex-direction: row;\r\n\theight: 100rpx;\r\n\twidth: 674rpx;\r\n\tjustify-content: center;\r\n\tmargin: 0 38rpx 0 38rpx;\r\n\tborder-bottom: #999999 solid 1px;\r\n\talign-items: center;\r\n\t.main-title{\r\n\t\tfont-size: 35rpx;\r\n\t\tfont-weight: bold;\r\n\t}\r\n\t.sub-title{\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\theight: 45rpx;\r\n\t\talign-items: flex-end;\r\n\t\t#one{\r\n\t\t\tfont-size: 25rpx;\r\n\t\t\tcolor: #999999;\r\n\t\t}\r\n\t\t#two{\r\n\t\t\tcolumns: #ff3b3b;\r\n\t\t\tfont-size: 25rpx;\r\n\t\t}\r\n\t}\r\n}\r\n\r\n.form-data{\r\n\twidth: 674rpx;\r\n\tmargin: 30rpx 38rpx 30rpx 38rpx;\r\n}\r\n\r\n.empty-area{\r\n\theight: 100rpx;\r\n}\n</style>\n","import mod from \"-!../../../../../Apps/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../Apps/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../Apps/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Apps/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../Apps/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../Apps/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../Apps/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../Apps/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Apps/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./addCampers.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../Apps/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../Apps/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../Apps/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Apps/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../Apps/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../Apps/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../Apps/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../Apps/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Apps/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./addCampers.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1672275442450\n      var cssReload = require(\"C:/Apps/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}