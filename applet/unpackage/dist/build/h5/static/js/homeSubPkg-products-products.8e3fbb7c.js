(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["homeSubPkg-products-products"],{"0172":function(e,t,i){"use strict";i("7a82");var a=i("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(i("c7eb")),o=a(i("1da1"));i("d81d");var s={data:function(){return{product:{batchList:[]},posterImageUrl:""}},onLoad:function(e){this.getProductsDetail(e.product_id)},methods:{saveImage:function(){uni.saveImageToPhotosAlbum({filePath:this.posterImageUrl})},previewImageBan:function(e){var t=this.product.bannerList.map((function(e){return e.url}));uni.previewImage({urls:t,current:e})},previewImageDetail:function(e){var t=this.product.detailList.map((function(e){return e.url}));uni.previewImage({urls:t,current:e})},getProductsDetail:function(e){var t=this;return(0,o.default)((0,n.default)().mark((function i(){var a,o,s;return(0,n.default)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return a=t,i.next=3,uni.$http.get("/products/getProductById/"+e);case 3:if(o=i.sent,s=o.data,200===s.state){i.next=7;break}return i.abrupt("return",uni.$showMsg());case 7:a.product=s.data;case 8:case"end":return i.stop()}}),i)})))()},getDayAndNight:function(e,t){var i=new Date(e),a=(t=new Date(t),t.getTime()-i.getTime()),n=Math.floor(a/864e5),o=n-1;return 0==n&&(n=1),o<0&&(o=0),n+"天"+o+"晚"},navigatroToMy:function(){uni.switchTab({url:"/pages/my/my"})},consult:function(){wx.openCustomerServiceChat({extInfo:{url:"https://work.weixin.qq.com/kfid/kfcc070d68bc93d187e"},corpId:"ww5b47e3729b081c1b"})},popupBtn:function(){this.$refs.popup.open()},poster:function(){this.$refs.posterPopup.open()},closePosterPopUp:function(){this.$refs.posterPopup.close(),this.$refs.popup.close()},savePosterToAlbum:function(){uni.downloadFile({url:this.product.productPoster,success:function(e){uni.saveImageToPhotosAlbum({filePath:e.tempFilePath,success:function(){uni.$showMsg("保存成功")},fail:function(){uni.$showMsg("保存失败")}})}})},calcle:function(){this.$refs.popup.close()},posterImage:function(e){this.posterImageUrl=e.tempFilePath}},onShareAppMessage:function(){return{title:this.product.name}}};t.default=s},"1b63":function(e,t,i){"use strict";i.r(t);var a=i("0172"),n=i.n(a);for(var o in a)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(o);t["default"]=n.a},"272f":function(e,t,i){e.exports=i.p+"static/img/child.6b0432aa.svg"},2842:function(e,t,i){e.exports=i.p+"static/img/clock.88803e94.svg"},"4b66":function(e,t,i){var a=i("7c7e");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=i("4f06").default;n("231ddf8f",a,!0,{sourceMap:!1,shadowMode:!1})},"52bf":function(e,t,i){e.exports=i.p+"static/img/location.dd510ffc.svg"},"612b":function(e,t,i){e.exports=i.p+"static/img/cross.ecad44b1.svg"},"6e01":function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){return a}));var a={uniIcons:i("e77d").default,uniPopup:i("3066").default},n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.product.batchList.length?a("v-uni-view",[a("v-uni-view",{staticClass:"wrap"},[a("v-uni-view",{staticClass:"banner"},[a("v-uni-swiper",{attrs:{"indicator-dots":!0,autoplay:!0,interval:3e3,duration:1e3,circular:!0}},e._l(e.product.bannerList,(function(t,i){return a("v-uni-swiper-item",{key:i},[a("v-uni-image",{staticClass:"banner-image",attrs:{src:t.url,mode:"widthFix"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.previewImageBan(i)}}})],1)})),1),a("v-uni-view",{staticClass:"age-location-time"},[a("v-uni-view",{staticClass:"age"},[a("v-uni-image",{attrs:{src:i("272f")}}),a("v-uni-view",[e._v(e._s(e.product.minAge)+"-"+e._s(e.product.maxAge)+"岁")])],1),a("v-uni-view",{staticClass:"location"},[a("v-uni-image",{attrs:{src:i("52bf")}}),a("v-uni-view",[e._v(e._s(e.product.location))])],1),a("v-uni-view",{staticClass:"time"},[a("v-uni-image",{attrs:{src:i("2842")}}),e.product.batchList.length?a("v-uni-view",[e._v(e._s(e.getDayAndNight(e.product.batchList[0].beginTime,e.product.batchList[0].endTime)))]):e._e()],1)],1)],1),a("v-uni-view",{staticClass:"product-info"},[a("v-uni-view",{staticClass:"product-price"},[a("v-uni-view",{staticClass:"signal"},[e._v("￥")]),a("v-uni-view",{staticClass:"price"},[e._v(e._s(e.product.price))])],1),a("v-uni-view",{staticClass:"product-name"},[e._v(e._s(e.product.name))]),a("v-uni-view",{staticClass:"product-type"},[e._v(e._s(e.product.categoryName))])],1),a("v-uni-view",{staticClass:"divide-line"}),a("v-uni-view",{staticClass:"user-info"},[a("v-uni-view",{staticClass:"discount"},[a("v-uni-view",{staticClass:"discount-text"},[e._v("优惠")]),a("v-uni-view",{staticClass:"discount-dis"},[e._v("最高优惠200元")]),a("uni-icons",{attrs:{type:"more-filled"}})],1),a("v-uni-view",{staticClass:"user",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.navigatroToMy.apply(void 0,arguments)}}},[a("v-uni-view",[e._v("个人中心")]),a("uni-icons",{attrs:{type:"forward"}})],1)],1),a("v-uni-view",{staticClass:"divide-area"}),a("v-uni-navigator",{staticClass:"choose-camp",attrs:{url:"/homeSubPkg/selectCamp/selectCamp?product_id="+e.product.id}},[a("v-uni-view",{staticClass:"name-camp"},[a("v-uni-view",{staticClass:"name"},[a("v-uni-image",{attrs:{src:i("f4b8")}}),a("v-uni-view",{staticClass:"name-text"},[e._v("选择营期")])],1),a("v-uni-view",{staticClass:"camp-list"},[e._l(e.product.batchList,(function(t,i){return i<3?a("v-uni-view",{key:i},[a("v-uni-view",{staticClass:"camp-date"},[e._v(e._s(e._f("dateFormat")(t.beginTime,"MM月DD日,")))])],1):e._e()})),e.product.batchList.length>1?a("v-uni-view",[e._v("多日期出营")]):a("v-uni-view",[e._v("出营")])],2)],1),a("uni-icons",{attrs:{type:"forward"}})],1),a("v-uni-view",{staticClass:"divide-area"}),a("v-uni-view",{staticClass:"product-detail"},[a("v-uni-view",{staticClass:"detail-text"},[e._v("商品详情")]),a("v-uni-view",{staticClass:"divide-line"}),e._l(e.product.detailList,(function(t,i){return a("v-uni-view",{key:i,staticClass:"detail-image"},[a("v-uni-image",{attrs:{src:t.url,mode:"widthFix"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.previewImageDetail(i)}}})],1)}))],2),a("v-uni-view",{staticClass:"register-now"},[a("v-uni-button",{staticClass:"consult",attrs:{plain:!0,id:"one"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.consult.apply(void 0,arguments)}}},[a("v-uni-image",{attrs:{src:i("cfda")}}),a("v-uni-view",{staticClass:"text"},[e._v("咨询")])],1),a("v-uni-button",{staticClass:"consult",attrs:{plain:!0},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.popupBtn.apply(void 0,arguments)}}},[a("v-uni-image",{attrs:{src:i("ae65")}}),a("v-uni-view",{staticClass:"text"},[e._v("分享")])],1),a("uni-popup",{ref:"popup",attrs:{type:"bottom"}},[a("v-uni-button",{staticClass:"option",attrs:{"open-type":"share"}},[a("v-uni-view",{staticClass:"popcontent"},[e._v("发送给朋友")])],1),a("v-uni-view",{staticClass:"option",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.poster.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"popcontent"},[e._v("生成海报")])],1),a("v-uni-view",{staticClass:"option",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.calcle.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"popcontent"},[e._v("取消")])],1)],1),a("v-uni-navigator",{staticClass:"register",attrs:{url:"/homeSubPkg/selectCamp/selectCamp?product_id="+e.product.id}},[a("v-uni-view",{staticClass:"text-1"},[e._v("￥ "+e._s(e.product.price)+" 立即报名")])],1)],1),a("uni-popup",{ref:"posterPopup",staticClass:"posterPopup",attrs:{type:"center",isMaskClick:!1}},[a("v-uni-view",{staticClass:"quit"},[a("v-uni-image",{attrs:{src:i("612b")},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.closePosterPopUp.apply(void 0,arguments)}}})],1),a("v-uni-image",{staticClass:"poster",attrs:{src:e.product.productPoster},on:{longpress:function(t){arguments[0]=t=e.$handleEvent(t),e.savePosterToAlbum.apply(void 0,arguments)}}}),a("v-uni-view",{staticClass:"poster-tip"},[a("v-uni-view",{staticClass:"text"},[e._v("长按图片可保存到手机")])],1)],1)],1)],1):e._e()},o=[]},"7c7e":function(e,t,i){var a=i("24fb");t=a(!1),t.push([e.i,'@charset "UTF-8";\n/* 水平间距 */\n/* 水平间距 */uni-page-body[data-v-33e8e74e]{background-color:#f5f5f5}body.?%PAGE?%[data-v-33e8e74e]{background-color:#f5f5f5}.banner[data-v-33e8e74e]{height:%?500?%;position:relative}.banner uni-swiper[data-v-33e8e74e]{height:%?500?%}.banner uni-swiper .banner-image[data-v-33e8e74e]{height:100%;width:100%}.banner .age-location-time[data-v-33e8e74e]{position:absolute;bottom:0;left:0;display:flex;flex-direction:row;text-align:center;align-items:center;background-color:rgba(25,25,25,.4);color:#fff;width:%?400?%;height:%?70?%;margin-bottom:0;margin-top:auto;font-size:%?25?%}.banner .age-location-time uni-image[data-v-33e8e74e]{width:%?30?%;height:%?30?%;justify-content:center;align-items:center}.banner .age-location-time .age[data-v-33e8e74e]{display:flex;flex-direction:row;margin-left:%?20?%;margin-right:%?10?%}.banner .age-location-time .location[data-v-33e8e74e]{display:flex;flex-direction:row;margin-right:%?10?%}.banner .age-location-time .time[data-v-33e8e74e]{display:flex;flex-direction:row}.product-info[data-v-33e8e74e]{height:%?200?%;display:flex;flex-direction:column;background-color:#f5f5f5;margin-left:%?20?%}.product-info .product-price[data-v-33e8e74e]{display:flex;flex-direction:row;color:#f6511d;margin-top:%?20?%;margin-bottom:%?10?%}.product-info .product-price .signal[data-v-33e8e74e]{display:flex;font-size:%?30?%;align-items:center;text-align:center}.product-info .product-price .price[data-v-33e8e74e]{font-size:%?45?%}.product-info .product-name[data-v-33e8e74e]{font-size:%?37?%;font-weight:700;margin-bottom:%?10?%}.product-info .product-type[data-v-33e8e74e]{margin-top:%?5?%;color:#acacac;font-size:%?28?%;font-weight:400}.divide-line[data-v-33e8e74e]{width:100%;height:1px;background-color:#ddd}.user-info[data-v-33e8e74e]{margin-left:%?20?%;margin-bottom:%?20?%;background-color:#f5f5f5}.user-info uni-icons[data-v-33e8e74e]{margin-right:%?40?%;margin-left:auto}.user-info .discount[data-v-33e8e74e]{display:flex;flex-direction:row;margin-top:%?10?%;margin-bottom:%?10?%}.user-info .discount .discount-text[data-v-33e8e74e]{font-size:%?35?%;font-weight:700;margin-right:%?10?%}.user-info .discount .discount-dis[data-v-33e8e74e]{display:flex;align-items:center;justify-content:center;text-align:center;font-size:%?25?%}.user-info .user[data-v-33e8e74e]{display:flex;flex-direction:row;border-left:#f6511d 1px solid;padding-left:%?30?%;margin-top:%?30?%}.divide-area[data-v-33e8e74e]{height:%?30?%;width:100%;background-color:#efeff4}.choose-camp[data-v-33e8e74e]{display:flex;flex-direction:row;margin-left:%?20?%;margin-top:%?20?%;margin-bottom:%?20?%;background-color:#f5f5f5}.choose-camp .name-camp[data-v-33e8e74e]{display:flex;flex-direction:column}.choose-camp .name-camp .name[data-v-33e8e74e]{display:flex;flex-direction:row;text-align:center;align-items:center}.choose-camp .name-camp .name uni-image[data-v-33e8e74e]{display:flex;width:%?30?%;height:%?30?%}.choose-camp .name-camp .name .name-text[data-v-33e8e74e]{font-size:%?35?%;font-weight:700}.choose-camp .name-camp .camp-list[data-v-33e8e74e]{display:flex;flex-direction:row;font-size:%?25?%;color:#acacac;font-weight:400}.choose-camp uni-icons[data-v-33e8e74e]{display:flex;align-items:center;margin-left:auto;margin-right:%?40?%}.product-detail[data-v-33e8e74e]{height:auto;width:100%}.product-detail .detail-text[data-v-33e8e74e]{margin-left:%?20?%;font-size:%?40?%;border-left:#f6511d 1px solid;padding-left:%?30?%}.product-detail .detail-image[data-v-33e8e74e]{display:flex;flex-direction:column}.product-detail .detail-image uni-image[data-v-33e8e74e]{width:96%;height:auto;margin-left:auto;margin-right:2%}.register-now[data-v-33e8e74e]{border-top:#ccc solid %?1?%;position:fixed;bottom:0;display:flex;flex-direction:row;align-items:center;background-color:#fff;width:100%;height:%?100?%;font-size:%?25?%}.register-now .consult[data-v-33e8e74e]{height:%?90?%;background-color:#fff;display:flex;flex-direction:column;justify-content:center;align-items:center;border:none;margin-top:%?10?%}.register-now .consult uni-image[data-v-33e8e74e]{width:%?40?%;height:%?40?%}.register-now .consult .text[data-v-33e8e74e]{font-size:%?23?%;color:#999}.register-now .register[data-v-33e8e74e]{width:%?450?%;height:%?70?%;display:flex;flex-direction:row;justify-content:center;align-items:center;margin-left:auto;margin-right:%?30?%;border-radius:%?42?%;background:linear-gradient(90deg,#ffca1e,#f01625)}.register-now .register .text-1[data-v-33e8e74e]{font-size:%?33?%;color:#fff}.register-now uni-popup[data-v-33e8e74e]{display:flex;flex-direction:column;justify-content:center;align-items:center;background-color:#990c55}.register-now uni-popup .option[data-v-33e8e74e]{width:80%;height:40px;display:flex;flex-direction:column;justify-content:center;align-items:center;background-color:#fff;border-radius:%?20?%;margin:%?10?% 10% %?10?% 10%}.register-now uni-popup .option .popcontent[data-v-33e8e74e]{font-size:%?25?%}.posterPopup[data-v-33e8e74e]{display:flex;flex-direction:column}.posterPopup .quit[data-v-33e8e74e]{width:%?650?%}.posterPopup .quit uni-image[data-v-33e8e74e]{width:%?50?%;height:%?50?%;margin-left:%?600?%}.posterPopup .poster[data-v-33e8e74e]{width:%?650?%;height:%?800?%}.posterPopup .poster-tip[data-v-33e8e74e]{font-size:%?25?%;color:#fff}.posterPopup .poster-tip .text[data-v-33e8e74e]{margin-left:%?210?%}',""]),e.exports=t},ae65:function(e,t,i){e.exports=i.p+"static/img/share.1a39c267.svg"},cfda:function(e,t,i){e.exports=i.p+"static/img/weixin.f7b09c4b.svg"},ed8f:function(e,t,i){"use strict";i.r(t);var a=i("6e01"),n=i("1b63");for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o);i("fb12");var s=i("f0c5"),r=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"33e8e74e",null,!1,a["a"],void 0);t["default"]=r.exports},f4b8:function(e,t,i){e.exports=i.p+"static/img/cal.65cadcb2.svg"},fb12:function(e,t,i){"use strict";var a=i("4b66"),n=i.n(a);n.a}}]);